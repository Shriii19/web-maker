<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VTC Fleet Management - Real-Time Vehicle Tracking</title>
    <style>
        /* CSS Variables for easy customization */
        :root {
            --primary-slate: #1e293b;
            --primary-cyan: #06b6d4;
            --secondary-slate: #334155;
            --secondary-cyan: #0891b2;
            --accent-slate-light: #e2e8f0;
            --accent-cyan-light: #cffafe;
            --text-primary: #0f172a;
            --text-secondary: #64748b;
            --text-light: #ffffff;
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-tertiary: #f1f5f9;
            --bg-dark: #0f172a;
            --border-color: #e2e8f0;
            --shadow: rgba(0, 0, 0, 0.1);
            --shadow-lg: rgba(0, 0, 0, 0.15);
            --gradient-primary: linear-gradient(135deg, #1e293b, #334155);
            --gradient-cyan: linear-gradient(135deg, #06b6d4, #0891b2);
            --modal-backdrop: rgba(15, 23, 42, 0.8);
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #3b82f6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-secondary);
        }

        /* Header & Navigation */
        .header {
            background: var(--bg-primary);
            box-shadow: 0 2px 10px var(--shadow);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-link {
            text-decoration: none;
            color: var(--text-primary);
            font-weight: 500;
            transition: color 0.3s ease;
            position: relative;
        }

        .nav-link:hover {
            color: var(--primary-cyan);
        }

        .nav-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .filter-dropdown {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-dropdown:hover {
            background: var(--border-color);
        }

        .refresh-btn {
            background: var(--gradient-cyan);
            color: var(--text-light);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .refresh-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(6, 182, 212, 0.3);
        }

        /* Main Layout */
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 6rem 2rem 2rem;
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 2rem;
        }

        .content-area {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        /* Fleet Overview */
        .fleet-overview {
            background: var(--gradient-primary);
            color: var(--text-light);
            padding: 2rem;
            border-radius: 15px;
            position: relative;
            overflow: hidden;
        }

        .fleet-overview::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><path fill="rgba(255,255,255,0.05)" d="M0,0 L1000,300 L1000,1000 L0,700 Z"/></svg>');
            background-size: cover;
        }

        .fleet-overview-content {
            position: relative;
            z-index: 2;
        }

        .fleet-title {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .fleet-subtitle {
            opacity: 0.9;
            margin-bottom: 2rem;
        }

        .fleet-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 2rem;
        }

        .fleet-stat {
            text-align: center;
        }

        .fleet-stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            display: block;
            margin-bottom: 0.25rem;
        }

        .fleet-stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .fleet-stat-change {
            font-size: 0.75rem;
            margin-top: 0.25rem;
            opacity: 0.7;
        }

        /* Map Section */
        .map-section {
            background: var(--bg-primary);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 2px 10px var(--shadow);
        }

        .map-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .map-title {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .map-controls {
            display: flex;
            gap: 0.5rem;
        }

        .map-control-btn {
            background: var(--bg-tertiary);
            border: none;
            padding: 0.5rem;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            font-size: 0.875rem;
        }

        .map-control-btn:hover {
            background: var(--border-color);
        }

        .map-control-btn.active {
            background: var(--primary-cyan);
            color: var(--text-light);
        }

        .map-placeholder {
            background: var(--bg-tertiary);
            border-radius: 8px;
            height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            font-size: 1.1rem;
            text-align: center;
            background-image: 
                radial-gradient(circle at 25% 25%, var(--primary-cyan) 2px, transparent 2px),
                radial-gradient(circle at 75% 75%, var(--success) 2px, transparent 2px);
            background-size: 40px 40px;
            background-position: 0 0, 20px 20px;
        }

        /* Vehicle List */
        .vehicle-list-section {
            background: var(--bg-primary);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 2px 10px var(--shadow);
        }

        .vehicle-list-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .vehicle-search {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .search-input {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            width: 250px;
            transition: border-color 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-cyan);
        }

        .vehicle-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }

        .vehicle-table th,
        .vehicle-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .vehicle-table th {
            background: var(--bg-tertiary);
            font-weight: 600;
            color: var(--text-primary);
        }

        .vehicle-table tr {
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .vehicle-table tr:hover {
            background: var(--bg-tertiary);
        }

        .vehicle-id {
            font-weight: 600;
            color: var(--primary-cyan);
        }

        .vehicle-status {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .vehicle-status.active {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .vehicle-status.maintenance {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }

        .vehicle-status.offline {
            background: rgba(107, 114, 128, 0.1);
            color: var(--text-secondary);
        }

        .vehicle-location {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .maintenance-indicator {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-right: 0.5rem;
        }

        .maintenance-indicator.due {
            background: var(--danger);
        }

        .maintenance-indicator.overdue {
            background: var(--warning);
        }

        .maintenance-indicator.ok {
            background: var(--success);
        }

        /* Sidebar Widgets */
        .widget {
            background: var(--bg-primary);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 2px 10px var(--shadow);
        }

        .widget-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid var(--border-color);
        }

        .widget-title {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .widget-action {
            background: var(--gradient-cyan);
            color: var(--text-light);
            border: none;
            padding: 0.25rem 0.75rem;
            border-radius: 4px;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .widget-action:hover {
            transform: translateY(-1px);
        }

        /* Quick Stats Widget */
        .quick-stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .quick-stat {
            background: var(--bg-secondary);
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
        }

        .quick-stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 0.25rem;
        }

        .quick-stat-value.active {
            color: var(--success);
        }

        .quick-stat-value.warning {
            color: var(--warning);
        }

        .quick-stat-value.danger {
            color: var(--danger);
        }

        .quick-stat-label {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        /* Alerts Widget */
        .alerts-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .alert-item {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            padding: 0.75rem;
            background: var(--bg-secondary);
            border-radius: 8px;
            border-left: 4px solid var(--warning);
        }

        .alert-item.critical {
            border-left-color: var(--danger);
        }

        .alert-item.info {
            border-left-color: var(--info);
        }

        .alert-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: var(--warning);
            color: var(--text-light);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            flex-shrink: 0;
            margin-top: 0.125rem;
        }

        .alert-icon.critical {
            background: var(--danger);
        }

        .alert-icon.info {
            background: var(--info);
        }

        .alert-content {
            flex: 1;
        }

        .alert-title {
            font-weight: 500;
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
        }

        .alert-message {
            font-size: 0.75rem;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        .alert-time {
            font-size: 0.625rem;
            color: var(--text-secondary);
            margin-top: 0.25rem;
        }

        /* Recent Activity Widget */
        .activity-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            background: var(--bg-secondary);
            border-radius: 8px;
        }

        .activity-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            background: var(--gradient-cyan);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-light);
            font-size: 0.875rem;
        }

        .activity-content {
            flex: 1;
        }

        .activity-title {
            font-weight: 500;
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
        }

        .activity-time {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        /* Vehicle Detail Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--modal-backdrop);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal.active {
            display: flex;
            opacity: 1;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: var(--bg-primary);
            border-radius: 15px;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            transform: scale(0.7);
            transition: transform 0.3s ease;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .modal.active .modal-content {
            transform: scale(1);
        }

        .modal-header {
            background: var(--gradient-primary);
            color: var(--text-light);
            padding: 2rem;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 1.5rem;
            cursor: pointer;
            transition: opacity 0.3s ease;
        }

        .modal-close:hover {
            opacity: 0.7;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .modal-subtitle {
            opacity: 0.9;
        }

        .modal-body {
            padding: 2rem;
        }

        .vehicle-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .info-card {
            background: var(--bg-secondary);
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
        }

        .info-card-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .info-card-value {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .info-card-value.status {
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.875rem;
            color: var(--text-light);
        }

        .info-card-value.status.active {
            background: var(--success);
        }

        .info-card-value.status.maintenance {
            background: var(--warning);
        }

        .maintenance-section {
            margin: 2rem 0;
        }

        .maintenance-schedule {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 1.5rem;
        }

        .maintenance-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border-color);
        }

        .maintenance-item:last-child {
            border-bottom: none;
        }

        .maintenance-task {
            font-weight: 500;
        }

        .maintenance-due {
            font-size: 0.875rem;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
        }

        .maintenance-due.overdue {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
        }

        .maintenance-due.due-soon {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
        }

        .maintenance-due.scheduled {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success);
        }

        .trip-history {
            margin-top: 2rem;
        }

        .trip-list {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 1rem;
        }

        .trip-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border-color);
        }

        .trip-item:last-child {
            border-bottom: none;
        }

        .trip-route {
            font-weight: 500;
        }

        .trip-date {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }

        .trip-distance {
            font-size: 0.875rem;
            color: var(--primary-cyan);
            font-weight: 500;
        }

        .modal-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }

        .btn {
            background: var(--gradient-cyan);
            color: var(--text-light);
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(6, 182, 212, 0.3);
        }

        .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background: var(--border-color);
            box-shadow: 0 8px 25px var(--shadow);
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .main-container {
                grid-template-columns: 1fr;
                padding: 5rem 1rem 2rem;
            }

            .sidebar {
                grid-row: 1;
            }

            .nav-menu {
                display: none;
            }

            .fleet-stats {
                grid-template-columns: repeat(2, 1fr);
            }

            .vehicle-search {
                flex-direction: column;
                align-items: stretch;
                gap: 0.5rem;
            }

            .search-input {
                width: 100%;
            }
        }

        @media (max-width: 768px) {
            .fleet-stats {
                grid-template-columns: 1fr;
            }

            .quick-stats-grid {
                grid-template-columns: 1fr;
            }

            .vehicle-table {
                font-size: 0.875rem;
            }

            .vehicle-table th,
            .vehicle-table td {
                padding: 0.75rem 0.5rem;
            }

            .modal-content {
                width: 95%;
                margin: 1rem;
            }

            .modal-body {
                padding: 1rem;
            }

            .vehicle-info-grid {
                grid-template-columns: 1fr;
            }

            .modal-actions {
                flex-direction: column;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }

        .slide-in {
            animation: slideIn 0.6s ease-out;
        }

        /* Loading states */
        .loading {
            position: relative;
            overflow: hidden;
        }

        .loading::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 1.5s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* Accessibility */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        /* Focus styles */
        button:focus,
        input:focus,
        select:focus,
        .vehicle-table tr:focus {
            outline: 2px solid var(--primary-cyan);
            outline-offset: 2px;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav-container">
            <div class="logo">VTC Fleet Manager</div>
            <ul class="nav-menu">
                <li><a href="#fleet" class="nav-link">Fleet Overview</a></li>
                <li><a href="#vehicles" class="nav-link">Vehicles</a></li>
                <li><a href="#maintenance" class="nav-link">Maintenance</a></li>
                <li><a href="#analytics" class="nav-link">Analytics</a></li>
            </ul>
            <div class="nav-actions">
                <select class="filter-dropdown" id="statusFilter" onchange="filterVehicles()">
                    <option value="all">All Vehicles</option>
                    <option value="active">Active Only</option>
                    <option value="maintenance">Maintenance</option>
                    <option value="offline">Offline</option>
                </select>
                <button class="refresh-btn" onclick="refreshData()" aria-label="Refresh data">
                    🔄 Refresh
                </button>
            </div>
        </nav>
    </header>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Content Area -->
        <div class="content-area">
            <!-- Fleet Overview -->
            <section class="fleet-overview fade-in" id="fleet">
                <div class="fleet-overview-content">
                    <h1 class="fleet-title">Fleet Management Dashboard</h1>
                    <p class="fleet-subtitle">Real-time monitoring and management of your entire vehicle fleet</p>
                    <div class="fleet-stats">
                        <div class="fleet-stat">
                            <span class="fleet-stat-value" id="totalVehicles">247</span>
                            <span class="fleet-stat-label">Total Vehicles</span>
                            <div class="fleet-stat-change">+3 this month</div>
                        </div>
                        <div class="fleet-stat">
                            <span class="fleet-stat-value" id="activeVehicles">189</span>
                            <span class="fleet-stat-label">Active Now</span>
                            <div class="fleet-stat-change">76% utilization</div>
                        </div>
                        <div class="fleet-stat">
                            <span class="fleet-stat-value" id="maintenanceVehicles">12</span>
                            <span class="fleet-stat-label">In Maintenance</span>
                            <div class="fleet-stat-change">-2 this week</div>
                        </div>
                        <div class="fleet-stat">
                            <span class="fleet-stat-value" id="efficiency">94.2%</span>
                            <span class="fleet-stat-label">Efficiency Rate</span>
                            <div class="fleet-stat-change">+1.2% this month</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Live Map Section -->
            <section class="map-section slide-in">
                <div class="map-header">
                    <h2 class="map-title">Live Vehicle Tracking</h2>
                    <div class="map-controls">
                        <button class="map-control-btn active" onclick="setMapView('all')">All</button>
                        <button class="map-control-btn" onclick="setMapView('active')">Active</button>
                        <button class="map-control-btn" onclick="setMapView('routes')">Routes</button>
                        <button class="map-control-btn" onclick="setMapView('alerts')">Alerts</button>
                    </div>
                </div>
                <div class="map-placeholder" id="liveMap">
                    🗺️ Interactive Map Interface<br>
                    <small>Real-time vehicle positions, routes, and traffic data would be displayed here</small>
                </div>
            </section>

            <!-- Vehicle List -->
            <section class="vehicle-list-section fade-in" id="vehicles">
                <div class="vehicle-list-header">
                    <h2 class="map-title">Vehicle Fleet</h2>
                    <div class="vehicle-search">
                        <input type="text" class="search-input" placeholder="Search vehicles..." id="vehicleSearch" onkeyup="searchVehicles()">
                        <button class="refresh-btn" onclick="openMaintenanceModal()">Schedule Maintenance</button>
                    </div>
                </div>
                
                <table class="vehicle-table" id="vehicleTable">
                    <thead>
                        <tr>
                            <th>Vehicle ID</th>
                            <th>Driver</th>
                            <th>Status</th>
                            <th>Location</th>
                            <th>Next Maintenance</th>
                            <th>Fuel Level</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr onclick="openVehicleModal('VTC-001')" tabindex="0" role="button">
                            <td class="vehicle-id">VTC-001</td>
                            <td>Mike Johnson</td>
                            <td><span class="vehicle-status active">Active</span></td>
                            <td class="vehicle-location">En route to Berlin</td>
                            <td>
                                <span class="maintenance-indicator ok"></span>
                                Jan 15, 2025
                            </td>
                            <td>78%</td>
                        </tr>
                        <tr onclick="openVehicleModal('VTC-002')" tabindex="0" role="button">
                            <td class="vehicle-id">VTC-002</td>
                            <td>Sarah Wilson</td>
                            <td><span class="vehicle-status active">Active</span></td>
                            <td class="vehicle-location">Loading at Hamburg</td>
                            <td>
                                <span class="maintenance-indicator due"></span>
                                Dec 20, 2024
                            </td>
                            <td>45%</td>
                        </tr>
                        <tr onclick="openVehicleModal('VTC-003')" tabindex="0" role="button">
                            <td class="vehicle-id">VTC-003</td>
                            <td>Alex Turner</td>
                            <td><span class="vehicle-status maintenance">Maintenance</span></td>
                            <td class="vehicle-location">Service Center Munich</td>
                            <td>
                                <span class="maintenance-indicator overdue"></span>
                                In Progress
                            </td>
                            <td>95%</td>
                        </tr>
                        <tr onclick="openVehicleModal('VTC-004')" tabindex="0" role="button">
                            <td class="vehicle-id">VTC-004</td>
                            <td>Emma Davis</td>
                            <td><span class="vehicle-status active">Active</span></td>
                            <td class="vehicle-location">Frankfurt Terminal</td>
                            <td>
                                <span class="maintenance-indicator ok"></span>
                                Feb 28, 2025
                            </td>
                            <td>62%</td>
                        </tr>
                        <tr onclick="openVehicleModal('VTC-005')" tabindex="0" role="button">
                            <td class="vehicle-id">VTC-005</td>
                            <td>Tom Smith</td>
                            <td><span class="vehicle-status offline">Offline</span></td>
                            <td class="vehicle-location">Depot Stuttgart</td>
                            <td>
                                <span class="maintenance-indicator ok"></span>
                                Mar 10, 2025
                            </td>
                            <td>88%</td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </div>

        <!-- Sidebar -->
        <div class="sidebar">
            <!-- Quick Stats Widget -->
            <div class="widget fade-in">
                <div class="widget-header">
                    <h3 class="widget-title">Fleet Status</h3>
                    <button class="widget-action" onclick="refreshStats()">Refresh</button>
                </div>
                <div class="quick-stats-grid">
                    <div class="quick-stat">
                        <div class="quick-stat-value active">189</div>
                        <div class="quick-stat-label">Active</div>
                    </div>
                    <div class="quick-stat">
                        <div class="quick-stat-value warning">12</div>
                        <div class="quick-stat-label">Maintenance</div>
                    </div>
                    <div class="quick-stat">
                        <div class="quick-stat-value">46</div>
                        <div class="quick-stat-label">Available</div>
                    </div>
                    <div class="quick-stat">
                        <div class="quick-stat-value danger">3</div>
                        <div class="quick-stat-label">Alerts</div>
                    </div>
                </div>
            </div>

            <!-- Alerts Widget -->
            <div class="widget slide-in">
                <div class="widget-header">
                    <h3 class="widget-title">System Alerts</h3>
                    <button class="widget-action" onclick="viewAllAlerts()">View All</button>
                </div>
                <div class="alerts-list">
                    <div class="alert-item critical">
                        <div class="alert-icon critical">!</div>
                        <div class="alert-content">
                            <div class="alert-title">VTC-042 Maintenance Overdue</div>
                            <div class="alert-message">Oil change required, last service 6 months ago</div>
                            <div class="alert-time">2 hours ago</div>
                        </div>
                    </div>
                    <div class="alert-item">
                        <div class="alert-icon">⚠</div>
                        <div class="alert-content">
                            <div class="alert-title">Fuel Level Alert</div>
                            <div class="alert-message">VTC-023 fuel level below 20%</div>
                            <div class="alert-time">4 hours ago</div>
                        </div>
                    </div>
                    <div class="alert-item info">
                        <div class="alert-icon info">i</div>
                        <div class="alert-content">
                            <div class="alert-title">Route Optimization</div>
                            <div class="alert-message">New efficient route available for Berlin</div>
                            <div class="alert-time">6 hours ago</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Activity Widget -->
            <div class="widget fade-in">
                <div class="widget-header">
                    <h3 class="widget-title">Recent Activity</h3>
                    <button class="widget-action" onclick="viewActivityLog()">View Log</button>
                </div>
                <div class="activity-list">
                    <div class="activity-item">
                        <div class="activity-icon">🚛</div>
                        <div class="activity-content">
                            <div class="activity-title">VTC-001 completed delivery</div>
                            <div class="activity-time">15 minutes ago</div>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon">🔧</div>
                        <div class="activity-content">
                            <div class="activity-title">VTC-003 maintenance started</div>
                            <div class="activity-time">1 hour ago</div>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon">📍</div>
                        <div class="activity-content">
                            <div class="activity-title">VTC-015 location updated</div>
                            <div class="activity-time">2 hours ago</div>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon">⛽</div>
                        <div class="activity-content">
                            <div class="activity-title">VTC-007 refueled</div>
                            <div class="activity-time">3 hours ago</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Vehicle Detail Modal -->
    <div class="modal" id="vehicle-modal" role="dialog" aria-labelledby="vehicle-title" aria-modal="true">
        <div class="modal-content">
            <div class="modal-header">
                <button class="modal-close" onclick="closeModal('vehicle-modal')" aria-label="Close vehicle details">&times;</button>
                <h2 class="modal-title" id="vehicle-title">Vehicle Details - VTC-001</h2>
                <p class="modal-subtitle">Comprehensive vehicle information and status</p>
            </div>
            <div class="modal-body">
                <div class="vehicle-info-grid">
                    <div class="info-card">
                        <div class="info-card-label">Current Driver</div>
                        <div class="info-card-value" id="vehicleDriver">Mike Johnson</div>
                    </div>
                    <div class="info-card">
                        <div class="info-card-label">Status</div>
                        <div class="info-card-value status active" id="vehicleStatus">Active</div>
                    </div>
                    <div class="info-card">
                        <div class="info-card-label">Current Location</div>
                        <div class="info-card-value" id="vehicleLocation">Highway A2, km 234</div>
                    </div>
                    <div class="info-card">
                        <div class="info-card-label">Destination</div>
                        <div class="info-card-value" id="vehicleDestination">Berlin Central</div>
                    </div>
                    <div class="info-card">
                        <div class="info-card-label">Fuel Level</div>
                        <div class="info-card-value" id="vehicleFuel">78%</div>
                    </div>
                    <div class="info-card">
                        <div class="info-card-label">Mileage</div>
                        <div class="info-card-value" id="vehicleMileage">156,847 km</div>
                    </div>
                </div>

                <div class="maintenance-section">
                    <h4>Maintenance Schedule</h4>
                    <div class="maintenance-schedule">
                        <div class="maintenance-item">
                            <div class="maintenance-task">Oil Change</div>
                            <div class="maintenance-due scheduled">Jan 15, 2025</div>
                        </div>
                        <div class="maintenance-item">
                            <div class="maintenance-task">Tire Rotation</div>
                            <div class="maintenance-due scheduled">Feb 1, 2025</div>
                        </div>
                        <div class="maintenance-item">
                            <div class="maintenance-task">Brake Inspection</div>
                            <div class="maintenance-due due-soon">Dec 25, 2024</div>
                        </div>
                        <div class="maintenance-item">
                            <div class="maintenance-task">Annual Inspection</div>
                            <div class="maintenance-due scheduled">Mar 15, 2025</div>
                        </div>
                    </div>
                </div>

                <div class="trip-history">
                    <h4>Recent Trip History</h4>
                    <div class="trip-list">
                        <div class="trip-item">
                            <div>
                                <div class="trip-route">Hamburg → Berlin</div>
                                <div class="trip-date">Dec 10, 2024</div>
                            </div>
                            <div class="trip-distance">294 km</div>
                        </div>
                        <div class="trip-item">
                            <div>
                                <div class="trip-route">Berlin → Munich</div>
                                <div class="trip-date">Dec 8, 2024</div>
                            </div>
                            <div class="trip-distance">584 km</div>
                        </div>
                        <div class="trip-item">
                            <div>
                                <div class="trip-route">Munich → Frankfurt</div>
                                <div class="trip-date">Dec 6, 2024</div>
                            </div>
                            <div class="trip-distance">391 km</div>
                        </div>
                        <div class="trip-item">
                            <div>
                                <div class="trip-route">Frankfurt → Hamburg</div>
                                <div class="trip-date">Dec 4, 2024</div>
                            </div>
                            <div class="trip-distance">489 km</div>
                        </div>
                    </div>
                </div>

                <div class="modal-actions">
                    <button class="btn" onclick="trackVehicle()">Track Vehicle</button>
                    <button class="btn" onclick="scheduleMaintenance()">Schedule Maintenance</button>
                    <button class="btn btn-secondary" onclick="generateReport()">Generate Report</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Maintenance Modal -->
    <div class="modal" id="maintenance-modal" role="dialog" aria-labelledby="maintenance-title" aria-modal="true">
        <div class="modal-content">
            <div class="modal-header">
                <button class="modal-close" onclick="closeModal('maintenance-modal')" aria-label="Close maintenance scheduler">&times;</button>
                <h2 class="modal-title" id="maintenance-title">Schedule Maintenance</h2>
                <p class="modal-subtitle">Plan and schedule vehicle maintenance</p>
            </div>
            <div class="modal-body">
                <div style="background: var(--bg-secondary); padding: 2rem; border-radius: 8px; text-align: center;">
                    <h3 style="margin-bottom: 1rem;">Maintenance Scheduler</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 2rem;">
                        Select vehicle, maintenance type, and preferred date to schedule service.
                    </p>
                    <div style="display: grid; gap: 1rem; margin-bottom: 2rem;">
                        <select style="padding: 0.75rem; border-radius: 6px; border: 1px solid var(--border-color);">
                            <option>Select Vehicle</option>
                            <option>VTC-001 - Mike Johnson</option>
                            <option>VTC-002 - Sarah Wilson</option>
                            <option>VTC-004 - Emma Davis</option>
                        </select>
                        <select style="padding: 0.75rem; border-radius: 6px; border: 1px solid var(--border-color);">
                            <option>Maintenance Type</option>
                            <option>Oil Change</option>
                            <option>Tire Service</option>
                            <option>Brake Inspection</option>
                            <option>General Service</option>
                        </select>
                        <input type="date" style="padding: 0.75rem; border-radius: 6px; border: 1px solid var(--border-color);">
                    </div>
                    <div class="modal-actions">
                        <button class="btn" onclick="confirmMaintenance()">Schedule Maintenance</button>
                        <button class="btn btn-secondary" onclick="closeModal('maintenance-modal')">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let vehicleData = [];
        let filteredData = [];

        // Sample vehicle data
        const vehicles = [
            { id: 'VTC-001', driver: 'Mike Johnson', status: 'active', location: 'En route to Berlin', maintenance: 'ok', fuel: 78 },
            { id: 'VTC-002', driver: 'Sarah Wilson', status: 'active', location: 'Loading at Hamburg', maintenance: 'due', fuel: 45 },
            { id: 'VTC-003', driver: 'Alex Turner', status: 'maintenance', location: 'Service Center Munich', maintenance: 'overdue', fuel: 95 },
            { id: 'VTC-004', driver: 'Emma Davis', status: 'active', location: 'Frankfurt Terminal', maintenance: 'ok', fuel: 62 },
            { id: 'VTC-005', driver: 'Tom Smith', status: 'offline', location: 'Depot Stuttgart', maintenance: 'ok', fuel: 88 }
        ];

        // Vehicle details data
        const vehicleDetails = {
            'VTC-001': {
                driver: 'Mike Johnson',
                status: 'active',
                location: 'Highway A2, km 234',
                destination: 'Berlin Central',
                fuel: '78%',
                mileage: '156,847 km'
            },
            'VTC-002': {
                driver: 'Sarah Wilson',
                status: 'active',
                location: 'Hamburg Loading Dock',
                destination: 'Munich Depot',
                fuel: '45%',
                mileage: '142,356 km'
            },
            'VTC-003': {
                driver: 'Alex Turner',
                status: 'maintenance',
                location: 'Service Center Munich',
                destination: 'Maintenance Bay 3',
                fuel: '95%',
                mileage: '178,923 km'
            }
        };

        // Modal management
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
                
                // Focus management for accessibility
                const firstFocusable = modal.querySelector('button, input, select, textarea, [href], [tabindex]:not([tabindex="-1"])');
                if (firstFocusable) {
                    firstFocusable.focus();
                }
                
                document.addEventListener('keydown', handleModalKeydown);
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.remove('active');
                document.body.style.overflow = 'auto';
                document.removeEventListener('keydown', handleModalKeydown);
            }
        }

        function handleModalKeydown(event) {
            if (event.key === 'Escape') {
                const activeModal = document.querySelector('.modal.active');
                if (activeModal) {
                    closeModal(activeModal.id);
                }
            }
        }

        // Close modal when clicking outside content
        document.addEventListener('click', function(event) {
            if (event.target.classList.contains('modal')) {
                closeModal(event.target.id);
            }
        });

        // Vehicle modal functionality
        function openVehicleModal(vehicleId) {
            const vehicle = vehicleDetails[vehicleId];
            if (!vehicle) return;

            // Update modal content
            document.getElementById('vehicle-title').textContent = `Vehicle Details - ${vehicleId}`;
            document.getElementById('vehicleDriver').textContent = vehicle.driver;
            document.getElementById('vehicleLocation').textContent = vehicle.location;
            document.getElementById('vehicleDestination').textContent = vehicle.destination;
            document.getElementById('vehicleFuel').textContent = vehicle.fuel;
            document.getElementById('vehicleMileage').textContent = vehicle.mileage;

            // Update status with appropriate styling
            const statusElement = document.getElementById('vehicleStatus');
            statusElement.textContent = vehicle.status.charAt(0).toUpperCase() + vehicle.status.slice(1);
            statusElement.className = `info-card-value status ${vehicle.status}`;

            openModal('vehicle-modal');
        }

        function openMaintenanceModal() {
            openModal('maintenance-modal');
        }

        // Search and filter functionality
        function searchVehicles() {
            const searchTerm = document.getElementById('vehicleSearch').value.toLowerCase();
            const rows = document.querySelectorAll('#vehicleTable tbody tr');
            
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                const isVisible = text.includes(searchTerm);
                row.style.display = isVisible ? '' : 'none';
            });
        }

        function filterVehicles() {
            const filter = document.getElementById('statusFilter').value;
            const rows = document.querySelectorAll('#vehicleTable tbody tr');
            
            rows.forEach(row => {
                const statusCell = row.querySelector('.vehicle-status');
                const status = statusCell.textContent.toLowerCase();
                
                let isVisible = true;
                if (filter !== 'all') {
                    isVisible = status === filter;
                }
                
                row.style.display = isVisible ? '' : 'none';
            });
        }

        // Map view functionality
        function setMapView(view) {
            // Remove active class from all buttons
            document.querySelectorAll('.map-control-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Add active class to clicked button
            event.target.classList.add('active');
            
            // Update map content based on view
            const mapElement = document.getElementById('liveMap');
            let content = '';
            
            switch(view) {
                case 'all':
                    content = '🗺️ Interactive Map Interface<br><small>Real-time vehicle positions, routes, and traffic data would be displayed here</small>';
                    break;
                case 'active':
                    content = '🚛 Active Vehicles View<br><small>Showing only vehicles currently on route</small>';
                    break;
                case 'routes':
                    content = '🛣️ Route Planning View<br><small>Optimized routes and delivery schedules</small>';
                    break;
                case 'alerts':
                    content = '⚠️ Alert Monitoring View<br><small>Vehicles requiring attention or with active alerts</small>';
                    break;
            }
            
            mapElement.innerHTML = content;
        }

        // Action functions
        function refreshData() {
            // Add loading state
            const btn = event.target;
            const originalText = btn.textContent;
            btn.textContent = '🔄 Refreshing...';
            btn.disabled = true;
            
            // Simulate API call
            setTimeout(() => {
                btn.textContent = originalText;
                btn.disabled = false;
                showNotification('Fleet data refreshed successfully', 'success');
                
                // Update some stats to show change
                updateFleetStats();
            }, 2000);
        }

        function updateFleetStats() {
            const activeElement = document.getElementById('activeVehicles');
            const currentActive = parseInt(activeElement.textContent);
            const change = Math.floor(Math.random() * 3) - 1; // -1, 0, or 1
            const newActive = Math.max(180, Math.min(200, currentActive + change));
            
            activeElement.textContent = newActive;
            
            // Update quick stats
            document.querySelector('.quick-stat-value.active').textContent = newActive;
        }

        function refreshStats() {
            const widget = event.target.closest('.widget');
            widget.classList.add('loading');
            
            setTimeout(() => {
                widget.classList.remove('loading');
                showNotification('Stats updated', 'info');
            }, 1000);
        }

        function viewAllAlerts() {
            showNotification('Opening full alerts dashboard...', 'info');
        }

        function viewActivityLog() {
            showNotification('Opening activity log...', 'info');
        }

        function trackVehicle() {
            showNotification('Opening vehicle tracking interface...', 'info');
            closeModal('vehicle-modal');
        }

        function scheduleMaintenance() {
            closeModal('vehicle-modal');
            openMaintenanceModal();
        }

        function generateReport() {
            showNotification('Generating vehicle report...', 'info');
        }

        function confirmMaintenance() {
            showNotification('Maintenance scheduled successfully!', 'success');
            closeModal('maintenance-modal');
        }

        // Notification system
        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--bg-primary);
                border: 1px solid var(--border-color);
                border-left: 4px solid var(--${type === 'success' ? 'success' : type === 'error' ? 'danger' : 'info'});
                border-radius: 8px;
                padding: 1rem;
                box-shadow: 0 4px 12px var(--shadow);
                z-index: 2000;
                transform: translateX(400px);
                transition: transform 0.3s ease;
                max-width: 300px;
            `;
            
            notification.innerHTML = `
                <div style="font-weight: 500; margin-bottom: 0.25rem;">${type.charAt(0).toUpperCase() + type.slice(1)}</div>
                <div style="font-size: 0.875rem; color: var(--text-secondary);">${message}</div>
            `;
            
            document.body.appendChild(notification);
            
            // Show notification
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            // Hide notification
            setTimeout(() => {
                notification.style.transform = 'translateX(400px)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 4000);
        }

        // Keyboard navigation for table rows
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Enter' || event.key === ' ') {
                const activeElement = document.activeElement;
                if (activeElement.tagName === 'TR' && activeElement.onclick) {
                    event.preventDefault();
                    activeElement.click();
                }
            }
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Add animation delays
            const fadeElements = document.querySelectorAll('.fade-in');
            fadeElements.forEach((element, index) => {
                element.style.animationDelay = `${index * 0.2}s`;
            });

            const slideElements = document.querySelectorAll('.slide-in');
            slideElements.forEach((element, index) => {
                element.style.animationDelay = `${(index + fadeElements.length) * 0.2}s`;
            });

            // Initialize data
            vehicleData = vehicles;
            filteredData = vehicles;

            // Welcome notification
            setTimeout(() => {
                showNotification('Fleet management system ready. 189 vehicles online.', 'success');
            }, 2000);
        });

        // Simulate real-time updates
        setInterval(() => {
            updateFleetStats();
        }, 30000); // Update every 30 seconds

        // Smooth scrolling for navigation
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>